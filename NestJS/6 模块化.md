### 模块化

1. **理响的 nest 架构，创建模块**

   一个理响的架构应该采用多个模块，每个模块封装一组密切相关的功能。功能应包含 controller，service等。此外，测试文件和测试数据文件也放入此处。

   创建模块指令：`nest g module 模块名` 。这样会创建模块，并且把模块文件自动导入上级模块中。结构为：

   -- src

   ​	|-- coffees 模块文件夹

   ​		 |-- coffees.module.ts 帮助我们保持代码的条理性，并为应用程序及其功能建立清晰的边界。

   ​		 |-- coffees.controller.ts 

   ​		 |-- coffees.service.ts 

   

2. **@Module 装饰器**

   在 coffees.module.ts 文件中，CoffeesModule 类前的装饰器为 `@Module({})` 。它提供了支持应用结构的数据。模块装饰器需要一个单一的对象，其属性描述了模块和所有的上下文。

   @Module 装饰器的属性有四种内容：

   1. controllers：API root，我们希望这个模块实例化。

   2. exports：列出当前模块中的提供者，这些提供者应在任何地方都可使用。这个模块会被导入。

   3. imports：让我们能列出本模块的其他模块。

   4. providers：数组。列除需要由 nest injector 实例化的服务。这里的任何 provider 将只在这个模块中可用，除非将其添加到 exports 数组中。

      

3. **将文件纳入 module 文件中**

   以 `@Module 装饰器的属性s: [数组]` 的形式纳入文件。

   ```typescript
   import {Module} from '@nestjs/common';
   
   @Module({controllers: [CoffeesController], providers: [CoffeesService]})
   export class CoffeesModule{}
   ```

   

4. 

